<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rock-Paper-Scissors</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1 class="heading">Rock, Paper, Scissors</h1>
  <article class="score">
    <div style="padding-right: 15px;">Player</div>
    <div class="player-score">0</div>
    <div>:</div>
    <div class="computer-score">0</div>
    <div style="padding-left: 15px;">Computer</div>
  </article>
  <p class="message">Test</p>
  <div class="icons">
    <div class="icon">
      <div class="icon-image rock">
        <img src="./images/rock.svg" alt="Rock">
      </div>
      <div class="icon-text rock">Rock</div>
    </div>
    <div class="icon">
      <div class="icon-image paper">
        <img src="./images/paper.svg" alt="Paper">
      </div>
      <div class="icon-text paper">Paper</div>
    </div>
    <div class="icon">
      <div class="icon-image scissors">
        <img src="./images/scissors.svg" alt="Scissors">
      </div>
      <div class="icon-text scissors">Scissors</div>
    </div>
  </div>
  <script>
    function computerPlay() {
      let option = "";
      let randomizer = Math.floor(Math.random() * 3) + 1;

      if (randomizer === 1) {
        option = "rock";
      } else if (randomizer === 2) {
        option = "paper";
      } else {
        option = "scissors";
      }
      return option;
    }

    const computerSelection = computerPlay();

    let playerWins = 0;
    let computerWins = 0;

    function playRound(playerSelection, computerSelection) {
      if (
        playerSelection !== "rock" &&
        playerSelection !== "paper" &&
        playerSelection !== "scissors"
      ) {
        return `${playerSelection} is an invalid option, please try again`;
      } else if (
        (playerSelection == "rock" && computerSelection == "scissors") ||
        (playerSelection == "scissors" && computerSelection == "paper") ||
        (playerSelection == "paper" && computerSelection == "rock")
      ) {
        playerWins++;
        return `You win! ${playerSelection} beats ${computerSelection}. The current score is: You: ${playerWins} - Computer: ${computerWins}`;
      } else if (
        (playerSelection === "rock" && computerSelection === "rock") ||
        (playerSelection === "paper" && computerSelection === "paper") ||
        (playerSelection === "scissors" && computerSelection === "scissors")
      ) {
        return `It's a tie! Player picked ${playerSelection} and computer picked ${computerSelection}. The current score is: You: ${playerWins} - Computer: ${computerWins}`;
      } else {
        computerWins++;
        return `You lose! ${computerSelection} beats ${playerSelection}. The current score is: You: ${playerWins} - Computer: ${computerWins}`;
      }
    }

    function game() {
      let rounds = 1;

      while (rounds <= 5) {
        let playerSelection = prompt(
          "Pick an option: Rock, Paper or Scissors?"
        ).toLowerCase();
        console.log(playRound(playerSelection, computerPlay()));
        rounds++;
      }
      if (playerWins > computerWins) {
        console.log(
          `Congratulations, you won the game! Final score - You: ${playerWins} Computer: ${computerWins}`
        );
      } else if (playerWins < computerWins) {
        console.log(
          `You lost :[ Final score: You: ${playerWins} Computer: ${computerWins}`
        );
      } else {
        console.log(
          `It's a tie! Final score: You: ${playerWins} Computer: ${computerWins}`
        );
      }
    }

    game();
  </script>
</body>

</html>